# سیستم CRM/ERP جامع

یک سیستم مدیریت مشتریان (CRM) و برنامه‌ریزی منابع سازمانی (ERP) کامل با قابلیت‌های حسابداری و مالیاتی مطابق استاندارد ایران.

## ویژگی‌های اصلی

### 🏢 مدیریت مشتریان
- مدیریت کامل اطلاعات مشتریان (حقیقی و حقوقی)
- سیستم دسته‌بندی مشتریان
- مدیریت پرسنل مشتریان
- سیستم تگ‌گذاری و جستجوی پیشرفته

### 📦 مدیریت محصولات
- کاتالوگ محصولات با دسته‌بندی درختی
- مدیریت ویژگی‌های محصولات
- سیستم تصاویر محصولات
- مدیریت موجودی و کنترل انبار

### 🏪 سیستم انبارداری
- مدیریت انبارها و مکان‌های ذخیره‌سازی
- کنترل موجودی با شماره لات و تاریخ انقضا
- سیستم حرکات انبار (ورود، خروج، انتقال)
- تعدیل موجودی و شمارش فیزیکی

### 📄 سیستم فاکتور و پیش‌فاکتور
- ایجاد و مدیریت فاکتورهای فروش
- سیستم پیش‌فاکتور با فرایند تایید
- مدیریت پرداخت‌ها و چک‌ها
- سیستم چاپ چندین فرمت

### 💼 سیستم CRM
- مدیریت سرنخ‌های فروش
- فرایندهای فروش با مراحل قابل تنظیم
- سیستم وظایف و فعالیت‌ها
- داشبورد کانبان

### 💰 سیستم حسابداری
- کدینگ حسابداری مطابق استاندارد ایران
- دفتر روزنامه و دفتر کل
- تراز آزمایشی
- مدیریت مراکز هزینه

### 🏛️ سیستم مودیان مالیاتی
- مدیریت مودیان مالیاتی
- محاسبه خودکار مالیات بر ارزش افزوده
- اظهارنامه‌های مالیاتی
- گزارش‌گیری مالیاتی

### 📊 سیستم گزارش‌گیری
- گزارش‌های مالی و فروش
- داشبوردهای تعاملی
- سیستم زمان‌بندی گزارش‌ها
- صادرات به فرمت‌های مختلف

## تکنولوژی‌های استفاده شده

### Backend
- **Django 5.2.6** - فریمورک وب
- **Django REST Framework** - API
- **PostgreSQL** - دیتابیس
- **Redis** - کش و صف کارها
- **Celery** - کارهای پس‌زمینه

### Frontend (در حال توسعه)
- **React** - رابط کاربری
- **TypeScript** - تایپ‌ایمنی
- **Material-UI** - کامپوننت‌های UI
- **React Query** - مدیریت state

## نصب و راه‌اندازی

### پیش‌نیازها
- Python 3.13+
- PostgreSQL 17+
- Redis 6+
- Node.js 18+ (برای فرانت‌اند)

### نصب Backend

1. **کلون کردن پروژه**
```bash
git clone <repository-url>
cd crm-erp-system/backend
```

2. **ایجاد محیط مجازی**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# یا
venv\Scripts\activate  # Windows
```

3. **نصب وابستگی‌ها**
```bash
pip install -r requirements.txt
```

4. **تنظیم دیتابیس**
```bash
# ایجاد دیتابیس PostgreSQL
sudo -u postgres createdb crm_erp
sudo -u postgres psql -c "ALTER USER postgres PASSWORD 'password';"
```

5. **اجرای migration ها**
```bash
python manage.py makemigrations
python manage.py migrate
```

6. **ایجاد superuser**
```bash
python manage.py createsuperuser
```

7. **اجرای سرور**
```bash
python manage.py runserver
```

### نصب Frontend (در حال توسعه)

```bash
cd frontend
npm install
npm start
```

## ساختار پروژه

```
crm-erp-system/
├── backend/
│   ├── crm_erp/           # تنظیمات اصلی Django
│   ├── customers/          # مدیریت مشتریان
│   ├── personnel/          # مدیریت پرسنل
│   ├── products/           # مدیریت محصولات
│   ├── inventory/          # سیستم انبارداری
│   ├── invoices/           # فاکتور و پیش‌فاکتور
│   ├── crm/               # سیستم CRM
│   ├── accounting/         # سیستم حسابداری
│   ├── tax_system/        # سیستم مودیان
│   ├── reports/           # سیستم گزارش‌گیری
│   └── requirements.txt
├── frontend/              # رابط کاربری React (در حال توسعه)
└── README.md
```

## API Endpoints

### مشتریان
- `GET /api/v1/customers/customers/` - لیست مشتریان
- `POST /api/v1/customers/customers/` - ایجاد مشتری جدید
- `GET /api/v1/customers/customers/{id}/` - جزئیات مشتری
- `PUT /api/v1/customers/customers/{id}/` - بروزرسانی مشتری
- `DELETE /api/v1/customers/customers/{id}/` - حذف مشتری

### محصولات
- `GET /api/v1/products/products/` - لیست محصولات
- `POST /api/v1/products/products/` - ایجاد محصول جدید
- `GET /api/v1/products/products/{id}/` - جزئیات محصول
- `PUT /api/v1/products/products/{id}/` - بروزرسانی محصول
- `DELETE /api/v1/products/products/{id}/` - حذف محصول

### فاکتورها
- `GET /api/v1/invoices/invoices/` - لیست فاکتورها
- `POST /api/v1/invoices/invoices/` - ایجاد فاکتور جدید
- `GET /api/v1/invoices/invoices/{id}/` - جزئیات فاکتور
- `PUT /api/v1/invoices/invoices/{id}/` - بروزرسانی فاکتور

## ویژگی‌های خاص

### سیستم کدینگ حسابداری
- کدینگ 4 رقمی مطابق استاندارد ایران
- پشتیبانی از ساختار درختی حساب‌ها
- مدیریت انواع حساب (دارایی، بدهی، درآمد، هزینه)

### سیستم مالیاتی
- محاسبه خودکار مالیات بر ارزش افزوده
- مدیریت نرخ‌های مالیاتی
- اظهارنامه‌های ماهانه و سالانه

### سیستم انبارداری
- مدیریت شماره لات و تاریخ انقضا
- کنترل موجودی چند انباری
- سیستم حرکات انبار

## مجوزها و دسترسی‌ها

سیستم از سیستم مجوزهای Django استفاده می‌کند و شامل سطوح دسترسی زیر است:

- **مدیر سیستم**: دسترسی کامل به تمام بخش‌ها
- **مدیر فروش**: دسترسی به CRM و فروش
- **مدیر انبار**: دسترسی به سیستم انبارداری
- **حسابدار**: دسترسی به سیستم حسابداری
- **کاربر عادی**: دسترسی محدود

## مشارکت در پروژه

1. Fork کنید
2. شاخه جدید ایجاد کنید (`git checkout -b feature/amazing-feature`)
3. تغییرات را commit کنید (`git commit -m 'Add amazing feature'`)
4. به شاخه push کنید (`git push origin feature/amazing-feature`)
5. Pull Request ایجاد کنید

## لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.

## پشتیبانی

برای پشتیبانی و سوالات، لطفاً issue ایجاد کنید یا با تیم توسعه تماس بگیرید.

## تغییرات آینده

- [ ] رابط کاربری React کامل
- [ ] سیستم اعلان‌ها
- [ ] API موبایل
- [ ] سیستم چت داخلی
- [ ] یکپارچه‌سازی با سیستم‌های خارجی
- [ ] هوش مصنوعی برای پیش‌بینی فروش